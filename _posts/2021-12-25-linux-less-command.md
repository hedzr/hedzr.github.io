---
layout: single
title: Linux å‘½ä»¤ less å…¨çŸ¥å…¨ä¼š
date: 2021-12-25 09:58:00 +0800
last_modified_at: 2021-12-25 09:58:00 +0800
Author: hedzr
tags: [linux, ubuntu, less, devops]
categories: devops linux
comments: true
toc: true
header:
  teaser: https://cdn.jsdelivr.net/gh/hzimg/blog-pics@master/uPic/image-20211225100221467.png
  overlay_image: /assets/images/ubuntuhero.jpg
  overlay_filter: rgba(32, 32, 0, 0.5)
excerpt: >-
  less å‘½ä»¤å®Œæ•´è§£è¯» [...]
---


> **æ‘˜è¦**ï¼š  
> å¯¹ less çš„å„ç§ç”¨æ³•åšä¸€æ¬¡æ•´ç†ï¼Œé¡ºä¾¿ä¹Ÿå¯ä»¥å½“ä½œå‚è€ƒæ‰‹å†Œã€‚
> <!--MORE-->



## å¼•å­

`less` æ˜¯ä¸€ä¸ª Linux å‘½ä»¤è¡Œå®ç”¨ç¨‹åºï¼Œç”¨äºæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œå®ƒæ”¯æŒç®¡é“è¾“å…¥ï¼Œæ‰€ä»¥èƒ½å¤Ÿè¢«ç”¨äºæ¥æ”¶å‰ä¸€å‘½ä»¤çš„æ ‡å‡†è¾“å‡ºç—…è¿›è¡Œå…¨å±å±•ç¤ºã€‚

`less` æ˜¯ `more` çš„å¢å¼ºç‰ˆæœ¬ï¼Œå®ƒå…·æœ‰æ›´å…¨é¢çš„å…¨æ–‡ä»¶å¯¼èˆªèƒ½åŠ›ï¼Œä»¥åŠå…¨æ–‡æœç´¢èƒ½åŠ›ã€‚`less` åœ¨å¤§æ–‡ä»¶æ‰“å¼€æ–¹é¢æœ‰å¾ˆå¥½çš„ä¼˜åŒ–ï¼Œåœ¨å³æ—¶æ˜¾ç¤ºã€å¿«é€ŸåŠ è½½ç­‰æ–¹é¢æ€§èƒ½çªå‡ºã€‚`less` è¿˜æ”¯æŒä¸€æ¬¡æ€§æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œå®ƒå°†ä¼šé€ä¸€åœ°æ˜¾ç¤ºè¿™äº›æ–‡ä»¶çš„å†…å®¹ã€‚

å–åä¸º `less` ä¹Ÿå› ä¸ºä¸€å¥åäººåè¨€ï¼š`less is more`ã€‚è¿™å¥åè¨€å·²ç»å“²å­¦åŒ–äº†ã€‚



![image-20211225100221467](https://cdn.jsdelivr.net/gh/hzimg/blog-pics@master/uPic/image-20211225100221467.png)



## åŸºæœ¬ä½¿ç”¨

less çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€æ˜¯æ‰“å¼€ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼š

```bash
less /var/log/messages
```

äºŒæ˜¯ä½œä¸ºç®¡é“æ“ä½œçš„æœ«ç«¯ï¼š

```bash
ps aux|less
```

åœ¨ç®¡ç†æ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šå¸¸å¸¸ç”¨åˆ° `tail -f` ç­‰ä»·çš„å®æ—¶åˆ·æ–°æ¨¡å¼ï¼š

```bash
dmsg|less +F
```





### è¢«åµŒå…¥åœ°ã€éšå«åœ°ä½¿ç”¨

åœ¨å¾ˆå¤šåœºæ‰€ä¸­ less è¢«é€šè¿‡ PAGER ç¯å¢ƒå˜é‡è€Œæ‚„æ‚„åœ°ä½¿ç”¨ã€‚

ä¸€ä¸ªå…¸å‹çš„ä¾‹å­æ˜¯ man å‘½ä»¤ã€‚å½“ï¼š

```bash
man printf
```

æ—¶ï¼Œprintf çš„æ‰‹å†Œé¡µå°†è¢«æ˜¾ç¤ºåœ¨ less çš„é˜…è¯»ç•Œé¢ä¸­ï¼Œå¦‚åŒè¿™æ ·ï¼š

![image-20211225100928604](https://cdn.jsdelivr.net/gh/hzimg/blog-pics@master/uPic/image-20211225100928604.png)



### é˜…è¯»ç•Œé¢æ“ä½œ

åœ¨ less æ˜¾ç¤ºçš„é˜…è¯»ç•Œé¢ä¸­ï¼ŒæŒ‰é”®å³å‘½ä»¤ã€‚

ä½ å¯ä»¥éšæ—¶æŒ‰ä¸‹ `h` æ˜¾ç¤ºå¸®åŠ©å±ï¼Œ`q` å°†é€€å‡ºå¸®åŠ©å±ã€‚

å…¶å®ƒæœ€å¸¸ç”¨çš„æŒ‰é”®å‘½ä»¤æœ‰ï¼š

|     æŒ‰é”®     |                             æŒ‡ä»¤                             |
| :----------: | :----------------------------------------------------------: |
|    SPACE     |                            ä¸‹ä¸€é¡µ                            |
|      d       |                            ä¸‹åŠé¡µ                            |
|      b       |                            å‰ä¸€é¡µ                            |
|      u       |                            å‰åŠé¡µ                            |
|      v       |                           ç¼–è¾‘å†…å®¹                           |
| j æˆ– â†µ Enter |                            ä¸‹ã„§è¡Œ                            |
|      k       |                            å‰ã„§è¡Œ                            |
|     Home     |                           æ–‡ä»¶é¡¶éƒ¨                           |
|     End      |                           æ–‡ä»¶ç»“å°¾                           |
|      F       | è·Ÿéšæ¨¡å¼ï¼ˆä¾›æ—¥å¿—ä½¿ç”¨ï¼‰ã€‚Follow Mode (for logs). Interrupt to abort. |
|    g æˆ– <    |                            ç¬¬ä¸€è¡Œ                            |
|    G æˆ– >    |                           æœ€åã„§è¡Œ                           |
|    `âŸ¨nâŸ©`G    |                        è·³åˆ°ç¬¬`âŸ¨nâŸ©`è¡Œ                         |
|  /`âŸ¨textâŸ©`   | å‘å‰æœç´¢`âŸ¨textâŸ©`ã€‚æ–‡å­—ä¼šè¢«è§†ä¸º[æ­£åˆ™è¡¨è¾¾å¼](https://zh.wikipedia.org/wiki/æ­£åˆ™è¡¨è¾¾å¼)ã€‚ |
|  ?`âŸ¨textâŸ©`   |                    å¦‚åŒ/ï¼Œä½†ä¸ºå‘åæœç´¢ã€‚                     |
|      n       |                     ä¸‹ä¸€ä¸ªç¬¦åˆçš„æœç´¢ç»“æœ                     |
|      N       |                     ä¸Šä¸€ä¸ªç¬¦åˆçš„æœç´¢ç»“æœ                     |
|     Escu     |              å…³é—­ç¬¦åˆçªæ˜¾ï¼ˆè¯·è§`-g`å‘½ä»¤è¡Œé€‰é¡¹ï¼‰              |
|    -`âŸ¨câŸ©`    |     åˆ‡æ¢é€‰é¡¹`âŸ¨câŸ©`ï¼Œä¾‹å¦‚-iä¼šåˆ‡æ¢æ˜¯å¦è¦åœ¨æœç´¢æ—¶å¿½ç•¥å¤§å°å†™      |
|    m`âŸ¨câŸ©`    |                        è®¾ç½®æ ‡è®°`âŸ¨câŸ©`                         |
|    '`âŸ¨câŸ©`    |                        è·³åˆ°æ ‡è®°`âŸ¨câŸ©`                         |
| = æˆ– Ctrl+G  |                           æ–‡ä»¶ä¿¡æ¯                           |
|      :n      |                          ä¸‹ä¸€ä¸ªæ–‡ä»¶                          |
|      :p      |                          ä¸Šä¸€ä¸ªæ–‡ä»¶                          |
|      h       |              è¯´æ˜ã€‚è¿™ä¼šä½¿ç”¨`less`æ˜¾ç¤ºï¼Œqç¦»å¼€ã€‚               |
|      q       |                             ç¦»å¼€                             |

ç¨åé”®ç›˜ä¸€èŠ‚ä¸­æˆ‘ä»¬ä¼šå®Œæ•´åœ°ä»‹ç»å…¨éƒ¨å¯ç”¨çš„æŒ‰é”®å‘½ä»¤ã€‚





### æœç´¢

åœ¨ less çš„é˜…è¯»ç•Œé¢ä¸­ï¼Œåº•éƒ¨è¡Œè¢«ç§°ä½œçŠ¶æ€å‘½ä»¤è¡Œã€‚å¦‚æœä½ åœ¨ç•Œé¢ä¸­æŒ‰é”®ï¼Œåˆ™è¯¥è¡Œçš„çŠ¶æ€æç¤ºæš‚æ—¶è¢«éšè—ï¼Œå¸¦æœ‰ `:` æç¤ºç¬¦çš„å‘½ä»¤è¡Œè¾“å…¥ä¼šè¢«æ˜¾ç¤ºã€‚

å½“ä½ æŒ‰ä¸‹ `/` è¿›å…¥æœç´¢çŠ¶æ€æ—¶ï¼ŒçŠ¶æ€å‘½ä»¤è¡Œç­‰å¾…ä½ ç»§ç»­é”®å…¥ patternã€‚

ä½ å¯ä»¥åœ¨æœç´¢æ—¶ä½¿ç”¨æ­£åˆ™å¼ patternã€‚

é‡å¤ä¸Šä¸€æ¬¡æœç´¢æ˜¯ `n` ã€‚

å¦‚æœä½ é”®å…¥ `-J` åºåˆ—ï¼Œé‚£ä¹ˆé˜…è¯»ç•Œé¢å·¦ä¾§å°†æ˜¾ç¤ºä¸€åˆ—å‚ç›´çš„çŠ¶æ€æ ï¼Œè€Œ `pattern` åŒ¹é…çš„è¡Œåœ¨è¿™ä¸ªçŠ¶æ€æ ä¸­ä¼šæœ‰æ˜¾ç¤ºï¼š

![image-20211225103745594](https://cdn.jsdelivr.net/gh/hzimg/blog-pics@master/uPic/image-20211225103745594.png)



### æ ‡è®°ï¼ˆMarkï¼‰

æ ‡è®°æ˜¯ä¸€ä¸ªå­—æ¯ï¼Œå¤§å°å†™æ•æ„Ÿã€‚æ ‡è®°ç­‰åŒäºæˆ‘ä»¬åœ¨ Visual Studio Code è¿™æ ·çš„å›¾å½¢åŒ–æ–‡å­—ç¼–è¾‘å™¨ä¸­çš„ä¹¦ç­¾ã€‚

åœ¨é˜…è¯»ç•Œé¢æŒ‰ä¸‹ ma æŒ‰é”®åºåˆ—ï¼Œ`m` å‘½ä»¤å°†ä¼šä¸ºä½ çš„å½“å‰é˜…è¯»ä½ç½®å»ºç«‹ä¸€ä¸ªåä¸º `a` çš„æ ‡è®°ã€‚ç¨åä½ å¯ä»¥ä½¿ç”¨ `'a` è¿”å›åˆ°è¿™ä¸ªä½ç½®ã€‚

å¦‚æœä½ é”®å…¥ `-J` åºåˆ—ï¼Œé‚£ä¹ˆé˜…è¯»ç•Œé¢å·¦ä¾§å°†æ˜¾ç¤ºä¸€åˆ—å‚ç›´çš„çŠ¶æ€æ ï¼Œè€Œ `a` æ ‡è®°åœ¨è¿™ä¸ªçŠ¶æ€æ ä¸­ä¼šæœ‰æ˜¾ç¤ºï¼š

![image-20211225102328869](https://cdn.jsdelivr.net/gh/hzimg/blog-pics@master/uPic/image-20211225102328869.png)







## é€‰é¡¹

é€‰é¡¹æ—¢å¯ä»¥ä»å‘½ä»¤è¡ŒæŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨ less é˜…è¯»ç•Œé¢ä¸­é€šè¿‡å‰ç¼€å­—ç¬¦åºåˆ— `-` æˆ– `--` ç›´æ¥é”®å…¥å’Œè¿›è¡Œç¿»è½¬ã€‚

ä¾‹å¦‚ä½ å¯ä»¥é”®å…¥ `-?` æ¥æ˜¾ç¤ºå¸®åŠ©å±ï¼ˆå°½ç®¡ `h` æ¥å¾—æ›´ç®€ä¾¿ï¼‰ã€‚

```bash
less [-[+]aABcCdeEfFgGiIJKLmMnNqQrRsSuUVwWX~]
     [-b space] [-h lines] [-j line] [-k keyfile]
     [-{oO} logfile] [-p pattern] [-P prompt] [-t tag]
     [-T tagsfile] [-x tab,...] [-y lines] [-[z] lines]
     [-# shift] [+[+]cmd] [--] [filename]...
```

less å…è®¸ä»å‘½ä»¤è¡Œç›´æ¥é”®å…¥å‘½ä»¤ï¼Œä½¿ç”¨ `+` å‰ç¼€å³å¯ï¼Œæ‰€ä»¥ `+F` ä»£è¡¨ç€è¿›å…¥æ»šåŠ¨åˆ·æ–°æ¨¡å¼ï¼Œä¾‹å¦‚ï¼š

```bash
less +F /var/log/messages
```

æ³¨æ„ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ less çš„å‘½ä»¤è¡Œä¸“æœ‰çš„é€‰é¡¹ï¼Œä¾‹å¦‚ `-F` ä»£è¡¨ç€æ–‡ä»¶å†…å®¹ä¸å¤Ÿä¸€å±æ—¶ç«‹å³é€€å‡º lessã€‚

å¦‚æœä½ ä½¿ç”¨äº† `++` å‰ç¼€ï¼Œé‚£ä¹ˆè¯¥å‘½ä»¤å°†ä¼šè¢«è‡ªåŠ¨åº”ç”¨åˆ°æ¯ä¸€ä¸ªæ–‡ä»¶ã€‚

> `less` å¯ä»¥ä¸€æ¬¡æ€§æ‰“å¼€å¤šä¸ªæ–‡ä»¶å¹¶ä¾æ¬¡æ˜¾ç¤ºã€‚



### ä¸»è¦çš„å‘½ä»¤è¡Œé€‰é¡¹

æœ‰æ•ˆçš„å‘½ä»¤è¡Œä¸“æœ‰é€‰é¡¹å¤§ä½“ä¸Šå¦‚ä¸‹è¡¨ï¼ˆç”±äºæè¿°æ–‡å­—å¾ˆç®€å•æ•…ä¿ç•™åŸæ–‡ï¼‰ï¼š

```
  -?  ........  --help
                  Display help (from command line).
  -a  ........  --search-skip-screen
                  Search skips current screen.
  -A  ........  --SEARCH-SKIP-SCREEN
                  Search starts just after target line.
  -b [N]  ....  --buffers=[N]
                  Number of buffers.
  -B  ........  --auto-buffers
                  Don't automatically allocate buffers for pipes.
  -c  ........  --clear-screen
                  Repaint by clearing rather than scrolling.
  -d  ........  --dumb
                  Dumb terminal.
  -D [xn.n]  .  --color=xn.n
                  Set screen colors. (MS-DOS only)
  -e  -E  ....  --quit-at-eof  --QUIT-AT-EOF
                  Quit at end of file.
  -f  ........  --force
                  Force open non-regular files.
  -F  ........  --quit-if-one-screen
                  Quit if entire file fits on first screen.
  -g  ........  --hilite-search
                  Highlight only last match for searches.
  -G  ........  --HILITE-SEARCH
                  Don't highlight any matches for searches.
  -h [N]  ....  --max-back-scroll=[N]
                  Backward scroll limit.
  -i  ........  --ignore-case
                  Ignore case in searches that do not contain uppercase.
  -I  ........  --IGNORE-CASE
                  Ignore case in all searches.
  -j [N]  ....  --jump-target=[N]
                  Screen position of target lines.
  -J  ........  --status-column
                  Display a status column at left edge of screen.
  -k [file]  .  --lesskey-file=[file]
                  Use a lesskey file.
  -K            --quit-on-intr
                  Exit less in response to ctrl-C.
  -L  ........  --no-lessopen
                  Ignore the LESSOPEN environment variable.
  -m  -M  ....  --long-prompt  --LONG-PROMPT
                  Set prompt style.
  -n  -N  ....  --line-numbers  --LINE-NUMBERS
                  Don't use line numbers.
  -o [file]  .  --log-file=[file]
                  Copy to log file (standard input only).
  -O [file]  .  --LOG-FILE=[file]
                  Copy to log file (unconditionally overwrite).
  -p [pattern]  --pattern=[pattern]
                  Start at pattern (from command line).
  -P [prompt]   --prompt=[prompt]
                  Define new prompt.
  -q  -Q  ....  --quiet  --QUIET  --silent --SILENT
                  Quiet the terminal bell.
  -r  -R  ....  --raw-control-chars  --RAW-CONTROL-CHARS
                  Output "raw" control characters.
  -s  ........  --squeeze-blank-lines
                  Squeeze multiple blank lines.
  -S  ........  --chop-long-lines
                  Chop (truncate) long lines rather than wrapping.
  -t [tag]  ..  --tag=[tag]
                  Find a tag.
  -T [tagsfile] --tag-file=[tagsfile]
                  Use an alternate tags file.
  -u  -U  ....  --underline-special  --UNDERLINE-SPECIAL
                  Change handling of backspaces.
  -V  ........  --version
                  Display the version number of "less".
  -w  ........  --hilite-unread
                  Highlight first new line after forward-screen.
  -W  ........  --HILITE-UNREAD
                  Highlight first new line after any forward movement.
  -x [N[,...]]  --tabs=[N[,...]]
                  Set tab stops.
  -X  ........  --no-init
                  Don't use termcap init/deinit strings.
  -y [N]  ....  --max-forw-scroll=[N]
                  Forward scroll limit.
  -z [N]  ....  --window=[N]
                  Set size of window.
  -" [c[c]]  .  --quotes=[c[c]]
                  Set shell quote characters.
  -~  ........  --tilde
                  Don't display tildes after end of file.
  -# [N]  ....  --shift=[N]
                  Horizontal scroll amount (0 = one half screen width)
      ........  --no-keypad
                  Don't send termcap keypad init/deinit strings.
      ........  --follow-name
                  The F command changes files if the input file is renamed.
      ........  --use-backslash
                  Subsequent options use backslash as escape char.

```



### å¸¸ç”¨é€‰é¡¹

å…¶ä¸­æˆ–è®¸ä¼šè¢«å¸¸å¸¸ç”¨åˆ°çš„å¯èƒ½æœ‰ï¼š

| é€‰é¡¹                                           | èƒ½åŠ›                                                         |
| ---------------------------------------------- | ------------------------------------------------------------ |
| `-X  ........  --no-init`                      | ä¸ä½¿ç”¨ termcap çš„ init/deinit åŠŸèƒ½ã€‚é€€å‡º less æ—¶ä¸æ¸…å±ã€‚     |
| `-x [N[,...]]  --tabs=[N[,...]]`               | è®¾ç½® TAB å­—ç¬¦çš„æ˜¾ç¤ºå®½åº¦                                      |
| `-n  -N  ....  --line-numbers  --LINE-NUMBERS` | æ˜¾ç¤º/ä¸æ˜¾ç¤ºè¡Œå·ã€‚è¡Œå·è¢«æ˜¾ç¤ºåœ¨çŠ¶æ€å‘½ä»¤è¡Œä¸­                    |
| `-m  -M  ....  --long-prompt  --LONG-PROMPT`   | åˆ‡æ¢çŠ¶æ€å‘½ä»¤è¡Œçš„æç¤ºç¬¦çš„é£æ ¼                                 |
| `-J  ........  --status-column`                | åœ¨å·¦ä¾§æ˜¾ç¤ºä¸€åˆ—å‚ç›´çš„çŠ¶æ€è¡Œï¼Œæœç´¢ç»“æœè¡Œå¯ä»¥åœ¨è¿™ä¸€åˆ—æä¾›ä¸€ä¸ªæ ‡è®°æ˜¾ç¤º |
| `-F  ........  --quit-if-one-screen`           | å¦‚æœå†…å®¹æ˜¾ç¤ºä¸è¶³ä¸€å±åˆ™ç«‹å³é€€å‡º less                          |
| `-e  -E  ....  --quit-at-eof  --QUIT-AT-EOF`   | å½“é¦–æ¬¡æŠµè¾¾æ–‡ä»¶ç»“å°¾ä½ç½®æ—¶ç«‹å³é€€å‡º less                        |

çŠ¶æ€å‘½ä»¤è¡Œæœ‰ä¸¤ç§é£æ ¼ï¼šshort, mediumã€‚å‰è€…æ˜¾ç¤ºä¸€ä¸ª `:` æç¤ºç¬¦ï¼Œåè€…æ˜¾ç¤ºä¸€ç³»åˆ—æ–‡æ¡£çŠ¶æ€ä¿¡æ¯å¦‚è¡Œå·ã€æ˜¾ç¤ºä½ç½®ç™¾åˆ†æ¯”ç­‰ç­‰ã€‚

å¦‚æœåœ¨é˜…è¯»ç•Œé¢ä¸­ä½¿ç”¨ `-N`ï¼Œåˆ™è¡Œå·ä¼šè¢«æ˜¾ç¤ºåœ¨çŠ¶æ€å‘½ä»¤è¡Œä¸­ã€‚

å¦‚æœåœ¨å‘½ä»¤è¡Œä½¿ç”¨äº† `-N`ï¼Œé‚£ä¹ˆè¡Œå·å¯ä»¥è¢«æ˜¾ç¤ºåœ¨æ¯ä¸€è¡Œçš„å·¦ä¾§ã€‚å¯¹äºï¼š

```bash
less -N /var/log/syslog
```

ä¼šæœ‰ï¼š

![image-20211225101246073](https://cdn.jsdelivr.net/gh/hzimg/blog-pics@master/uPic/image-20211225101246073.png)







## é”®ç›˜

### å¿«æ·é”®ï¼ˆ`less`ï¼‰

åœ¨æ‰‹å†Œé¡µé˜…è¯»ç•Œé¢ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·é”®æ¥å¸®åŠ©é˜…è¯»ã€‚

ç”±äºæ‰‹å†Œé¡µçš„æ˜¾ç¤ºæ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿ Shell ç¯å¢ƒä¸­çš„é»˜è®¤ PAGER æ¥å®Œæˆçš„ï¼Œæ‰€ä»¥å¿«æ·é”®éµå¾ªç›¸åº” PAGER çš„åŠŸèƒ½æ˜ å°„ã€‚

å¤§å¤šæ•°ç³»ç»Ÿä¸­ç°åœ¨é»˜è®¤é‡‡ç”¨ `less` ä½œä¸ºé»˜è®¤ PAGERï¼Œå› æ­¤ä¸‹é¢ä»‹ç» `less` å¿«æ·é”®ï¼Œä½†é’ˆå¯¹ manpage ä¿®æ­£æè¿°æ–‡å­—ã€‚



#### åŸºæœ¬æ“ä½œ

| æŒ‰é”®              | èƒ½åŠ›                                       |
| ----------------- | ------------------------------------------ |
| h                 | æ˜¾ç¤ºå¸®åŠ©å±å¹•                               |
| q                 | é€€å‡º                                       |
| e ^E J ^N CR      | å‰è¿›ä¸€è¡Œï¼ˆæˆ– N è¡Œï¼‰                        |
| y ^Y k ^K ^P      | åé€€ä¸€è¡Œï¼ˆæˆ– N è¡Œï¼‰                        |
| f ^F ^V SPACE     | å‰è¿›ä¸€å±                                   |
| b ^B ESC-v        | åé€€ä¸€å±                                   |
| z                 | å‰è¿›ä¸€å±ï¼ˆè®¾ç½®å±é«˜ä¸º Nï¼‰                   |
| w                 | åé€€ä¸€å±ï¼ˆè®¾ç½®å±é«˜ä¸º Nï¼‰                   |
| ESC-SPACE         | å‰è¿›ä¸€å±ï¼Œåœ¨æ–‡æœ«å…è®¸ä¸Šæ»š                   |
| d ^D              | å‰è¿›åŠå±                                   |
| u ^U              | åé€€åŠå±                                   |
| ESC-) RightArrow  | å‘å³å·åŠ¨åŠå±                               |
| ESC-( LeftArrow   | å‘å·¦å·åŠ¨åŠå±                               |
| ESC-} ^RightArrow | å‘å³å·åŠ¨åˆ°æœ€å³ä¾§                           |
| ESC-{ ^LeftArrow  | å‘å·¦å·åŠ¨åˆ°ç¬¬ä¸€åˆ—                           |
| F                 | æŒç»­æ»šåŠ¨å‰è¿›ï¼Œå¦‚åŒ `tail -f` é‚£æ ·          |
| ESC-F             | æŒç»­æ»šåŠ¨å‰è¿›ï¼Œä½†åœ¨æŸ¥æ‰¾å…³é”®å­—åŒ¹é…æ—¶åœæ­¢æ»šåŠ¨ |
| r ^R ^L           | é‡æ–°ç»˜åˆ¶å±å¹•                               |
| R                 | é‡ç»˜å±å¹•ï¼ŒåºŸå¼ƒå·²ç»ç¼“å­˜çš„è¾“å…¥               |

å¸¦æœ‰ `N` çš„å‘½ä»¤ï¼Œå…è®¸ `N` `cmd` çš„è¾“å…¥æ–¹æ³•ã€‚

ä»¥ `f` å‘½ä»¤ä¸ºä¾‹ï¼Œç®€å•åœ°é”®å…¥ `f` åˆ™å±å¹•å‘ä¸‹å·æ»šï¼Œå†…å®¹ä¸Šç§»ä¸€è¡Œï¼›ä½†ä½ å¯ä»¥é”®å…¥ `31f` ä½¿å¾—å†…å®¹ä¸€æ¬¡æ€§åœ°å‘ä¸Šæ»šåŠ¨ 31 è¡Œã€‚ä¸å…¶ç›¸åçš„æ˜¯ `b` å‘½ä»¤ï¼Œå¯ä»¥ä½¿å±å¹•å‘ä¸Šå·æ»šï¼Œå†…å®¹ä¸‹ç§»ä¸€è¡Œã€‚

F å‘½ä»¤å…·æœ‰å³æ—¶åˆ·æ–°æ–‡ä»¶å†…å®¹çš„èƒ½åŠ›ï¼Œå®ƒç›¸å½“äºå¢å¼ºç‰ˆçš„ `tail -f` åŠŸèƒ½ï¼Œä¸ä½†å¯ä»¥éšæ—¶åˆ·æ–°å’Œæ˜¾ç¤ºæœ€æ–°çš„æ–‡ä»¶å†…å®¹ï¼Œä¹Ÿèƒ½å¤Ÿæš‚æ—¶åœæ­¢åˆ·æ–°ï¼Œåœ¨å·²æœ‰çš„å†…å®¹ä¸­å¯¼èˆªå’Œæ£€ç´¢ï¼Œè€Œä¸”è¿˜èƒ½ç»§ç»­å†æ¬¡åœ°ä½¿ç”¨ F è¿›å…¥å³æ—¶åˆ·æ–°çš„çŠ¶æ€ã€‚



#### æœç´¢

| æŒ‰é”®       | èƒ½åŠ›                                 |
| ---------- | ------------------------------------ |
| `/pattern` | å‘å‰æœç´¢å…³é”®è¯ `pattern`             |
| `?pattern` | å‘åæœç´¢å…³é”®è¯ `pattern`             |
| n          | é‡å¤ä¸Šä¸€æ¬¡æœç´¢ï¼ˆé‡å¤ N æ¬¡ï¼‰          |
| N          | åå‘åœ°é‡å¤ä¸Šä¸€æ¬¡æœç´¢                 |
| ESC-n      | é‡å¤ä¸Šä¸€æœç´¢ï¼Œå…è®¸è·¨è¶Šå¤šä¸ªæ–‡ä»¶       |
| ESC-N      | é‡å¤ä¸Šä¸€æœç´¢ï¼Œåå‘ï¼Œå…è®¸è·¨è¶Šå¤šä¸ªæ–‡ä»¶ |
| ESC-u      | æ”¾å¼ƒã€è¿˜åŸã€ç¿»è½¬æœç´¢é«˜äº®çŠ¶æ€         |
| `&pattern` | åªæ˜¾ç¤ºåŒ¹é…è¡Œæ–‡å­—                     |

ä¸€ä¸ª `pattern` å¯ä»¥ç”±ä»¥ä¸‹æŒ‰é”®ï¼ˆASCIIå­—ç¬¦ï¼‰è¿›è¡Œå‰ç¼€ä¿®é¥°ï¼š

| æŒ‰é”®    | èƒ½åŠ›                                           |
| ------- | ---------------------------------------------- |
| ^N or ! | æœç´¢éåŒ¹é…è¡Œ                                   |
| ^E or * | æœç´¢å¤šä¸ªæ–‡ä»¶ï¼ˆè¶Šè¿‡å½“å‰ä¸»é¢˜çš„æ–‡ä»¶æœ«å°¾ï¼‰         |
| ^F or @ | ä»ç¬¬ä¸€ä¸ªæ–‡ä»¶(`/`)æˆ–è€…æœ€åä¸€ä¸ªæ–‡ä»¶(`?`)å¼€å§‹æœç´¢ |
| ^K      | é«˜äº®åŒ¹é…æ–‡å­—ï¼Œä½†ä¸ç§»åŠ¨ï¼ˆä¿æŒå½“å‰é˜…è¯»ä½ç½®ä¸å˜ï¼‰ |
| ^R      | ä¸ä½¿ç”¨æ­£åˆ™å¼                                   |

#### è·³è½¬

| æŒ‰é”®             | èƒ½åŠ›                                 |
| ---------------- | ------------------------------------ |
| g < ESC-<        | æ–‡ä»¶ç¬¬ä¸€è¡Œï¼ˆæˆ–ç¬¬ N è¡Œï¼‰              |
| G > ESC->        | æ–‡ä»¶æœ€åä¸€è¡Œï¼ˆæˆ–æœ€åç¬¬ N è¡Œï¼‰        |
| p %              | è½¬åˆ°æ–‡ä»¶å¼€å§‹ï¼ˆæˆ–è€…æŒ‰ç™¾åˆ†æ¯”å®šä½åˆ° Nï¼‰ |
| t                | è½¬åˆ°ä¸‹ä¸€ä¸ªæ ‡è®°ï¼ˆé‡å¤ N æ¬¡ï¼‰          |
| T                | è½¬åˆ°å‰ä¸€ä¸ªæ ‡è®°ï¼ˆé‡å¤ N æ¬¡ï¼‰          |
| [ ( {            | æŸ¥æ‰¾é—­æ‹¬å· } ) ]                     |
| } ) ]            | æŸ¥æ‰¾å¼€æ‹¬å· [ ( {                     |
| ESC-^F (c1) (c2) | æŸ¥æ‰¾é—­æ‹¬å· (c2)                      |
| ESC-^B (c1) (c2) | æŸ¥æ‰¾å¼€æ‹¬å· (c1)                      |
|                  |                                      |

g è¿™æ ·çš„æŒ‰é”®ï¼Œåœ¨é˜…è¯»ç•Œé¢å¯ä»¥ç›´æ¥ç”Ÿæ•ˆã€‚ä½†ä½ ä¹Ÿå¯ä»¥è¿ç»­æŒ‰é”®ï¼Œä¾‹å¦‚ 1 3 g å¯ä»¥è½¬åˆ°ç¬¬ 13 è¡Œã€‚

| æŒ‰é”®        | èƒ½åŠ›                                         |
| ----------- | -------------------------------------------- |
| m`<letter>` | æ ‡è®°å½“å‰ä½ç½®ä¸º `<letter>`                    |
| '`<letter>` | è·³è½¬åˆ°å‰ä¸€ä¸ªæ ‡è®°ä½ç½®ï¼ˆä»¥ `<letter>` ä¸ºç´¢å¼•ï¼‰ |
| ''          | è·³è½¬åˆ°å‰ä¸€ä¸ªæ ‡è®°ä½ç½®                         |
| `^X^X`      | ç­‰åŒäº '                                     |

ä¸€ä¸ªæ ‡è®°ä½ç½®ï¼ˆmarkï¼‰æ˜¯ä¸€ä¸ªå¤§å†™å­—æ¯æˆ–è€…å°å†™å­—æ¯ã€‚å¦å¤–ï¼Œä¸‹é¢æ˜¯é¢„å®šä¹‰çš„æ ‡è®°ä½ç½®ï¼š

- `^` æ–‡ä»¶å¼€å§‹
- `$` æ–‡ä»¶ç»“å°¾



#### åˆ‡æ¢æ–‡ä»¶

| æŒ‰é”®      | èƒ½åŠ›                        |
| --------- | --------------------------- |
| :e [file] | è£…è½½ä¸€ä¸ªæ–°æ–‡ä»¶              |
| `^X^V`    | ç­‰åŒäº :e                   |
| :n        | åˆ—è¡¨ä¸­ä¸‹ä¸€ä¸ªï¼ˆå N ä¸ªï¼‰æ–‡ä»¶ |
| :p        | åˆ—è¡¨ä¸­ä¸Šä¸€ä¸ªï¼ˆä¸Š N ä¸ªï¼‰æ–‡ä»¶ |
| :x        | åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªï¼ˆç¬¬ N ä¸ªï¼‰æ–‡ä»¶ |
| :d        | ä»å‘½ä»¤è¡Œåˆ—è¡¨ä¸­åˆ é™¤å½“å‰æ–‡ä»¶  |
| = ^G :f   | æ‰“å°å½“å‰æ–‡ä»¶å              |



#### æ‚é¡¹


| æŒ‰é”®         | èƒ½åŠ›                                                       |
| ------------ | ---------------------------------------------------------- |
| -`<flag>`    | ç¿»è½¬ä¸€ä¸ªå‘½ä»¤è¡Œé€‰é¡¹                                         |
| --`<name>`   | ç¿»è½¬ä¸€ä¸ªé€‰é¡¹                                               |
| _`<flag>`    | æ˜¾ç¤ºä¸€ä¸ªå‘½ä»¤è¡Œé€‰é¡¹                                         |
| __`<name>`   | æ˜¾ç¤ºä¸€ä¸ªé€‰é¡¹                                               |
| +`cmd`       | æ¯å½“è½½å…¥è§£é‡Šä¸€ä¸ªæ–°æ–‡ä»¶æ—¶ï¼Œæ‰§è¡Œ less å‘½ä»¤ `cmd`             |
| !`command`   | æ‰§è¡Œ Shell å‘½ä»¤ `command`                                  |
| \|X`command` | ç®¡é“æ“ä½œï¼Œä»å½“å‰ä½ç½®å’Œæ ‡è®°ä½ç½® `X` åˆ° Shell å‘½ä»¤ `command` |
| s `file`     | ä¿å­˜è¾“å…¥åˆ°æ–‡ä»¶                                             |
| v            | ç¼–è¾‘å½“å‰æ–‡ä»¶ï¼ˆä½¿ç”¨ `$VISUAL` æˆ– `$EDITOR`ï¼‰                |
| V            | æ‰“å° less ç‰ˆæœ¬å·                                           |







## ç¯å¢ƒå˜é‡

###  PAGER

`less` ç°åœ¨æ˜¯å¤§å¤šæ•° Linux å‘è¡Œç‰ˆçš„ PAGER é»˜è®¤å€¼ã€‚å› æ­¤å½“ PAGER æ²¡æœ‰æ˜¾å¼è®¾å®šæ—¶ï¼Œç³»ç»Ÿæ€»æ˜¯ä½¿ç”¨å®ƒã€‚

```bash
export PAGER=less
```



### LESS

ä½ å¯ä»¥ä¸º `less` æŒ‡å®šé¢„è®¾çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼Œä¾‹å¦‚ï¼š

```bash
LESS="-X"; export LESS
```

è¿™ä½¿å¾— less é€€å‡ºä¹‹åä¸ä¼šæ¸…å±ã€‚



## è¡Œç¼–è¾‘

less é˜…è¯»ç•Œé¢ä¸­ï¼ŒæŒ‰é”®è¾“å…¥ä¼šæ˜¾ç¤ºåœ¨å±å¹•æœ€ä¸‹é¢ä¸€è¡Œï¼ŒåŒæ—¶è¿›å…¥è¡Œç¼–è¾‘æ¨¡å¼ã€‚æœ‰æ—¶å€™ä½ å¯ä»¥åƒ vi ä¸€æ ·æŒ‰ä¸‹ `:` è¿›å…¥åˆ°å‘½ä»¤çš„è¡Œç¼–è¾‘æ¨¡å¼ã€‚

ä¸‹é¢æ˜¯è¿™ä¸ªè¡Œç¼–è¾‘çš„é”®ç›˜æ“ä½œæ–¹æ³•ï¼ˆç”±äºæè¿°æ–‡å­—å¾ˆç®€å•æ•…ä¿ç•™åŸæ–‡ï¼‰ã€‚

```
 RightArrow ..................... ESC-l ... Move cursor right one character.
 LeftArrow ...................... ESC-h ... Move cursor left one character.
 ctrl-RightArrow  ESC-RightArrow  ESC-w ... Move cursor right one word.
 ctrl-LeftArrow   ESC-LeftArrow   ESC-b ... Move cursor left one word.
 HOME ........................... ESC-0 ... Move cursor to start of line.
 END ............................ ESC-$ ... Move cursor to end of line.
 BACKSPACE ................................ Delete char to left of cursor.
 DELETE ......................... ESC-x ... Delete char under cursor.
 ctrl-BACKSPACE   ESC-BACKSPACE ........... Delete word to left of cursor.
 ctrl-DELETE .... ESC-DELETE .... ESC-X ... Delete word under cursor.
 ctrl-U ......... ESC (MS-DOS only) ....... Delete entire line.
 UpArrow ........................ ESC-k ... Retrieve previous command line.
 DownArrow ...................... ESC-j ... Retrieve next command line.
 TAB ...................................... Complete filename & cycle.
 SHIFT-TAB ...................... ESC-TAB   Complete filename & reverse cycle.
 ctrl-L ................................... Complete filename, list all.
```





## å‚è€ƒ

- `man less`
- [less (Unix) - Wikipedia](https://en.wikipedia.org/wiki/Less_(Unix)) 



ğŸ”š